<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>ë¶€ëª¨ë‹˜ê³¼ í•¨ê»˜ ë„ì¿„ ì—¬í–‰</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Chosen Palette: Warm Neutral Harmony -->
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #fcfbf9;
            color: #333333;
            -webkit-tap-highlight-color: transparent;
            padding-bottom: env(safe-area-inset-bottom);
        }
        
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 100%;
            margin: 0 auto;
            height: 250px;
        }

        .tab-active {
            border-bottom: 4px solid #8d6e63;
            color: #5d4037;
            font-weight: 700;
            background-color: rgba(141, 110, 99, 0.05);
        }
        .tab-inactive {
            color: #9e9e9e;
            font-weight: 400;
        }
        
        .timeline-line {
            position: absolute;
            left: 20px;
            top: 0;
            bottom: 0;
            width: 2px;
            background-color: #e0e0e0;
            z-index: 0;
        }

        .interactive-btn {
            cursor: pointer;
            touch-action: manipulation;
            -webkit-appearance: none;
        }

        /* Modal Animation */
        #details-modal {
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .modal-content {
            transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        .modal-hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }
        .modal-hidden .modal-content {
            transform: scale(0.9) translateY(20px);
        }
    </style>
</head>
<body class="antialiased min-h-screen flex flex-col">

    <!-- Modal for Place Details -->
    <div id="details-modal" class="fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/70 modal-hidden">
        <div class="modal-content bg-white w-full max-w-md rounded-3xl overflow-hidden shadow-2xl flex flex-col max-h-[85vh]">
            <div id="modal-image" class="h-56 w-full bg-cover bg-center bg-gray-200 relative">
                <button onclick="closeModal()" class="absolute top-4 right-4 bg-black/40 backdrop-blur-md text-white w-10 h-10 rounded-full flex items-center justify-center">
                    <i class="fa-solid fa-xmark text-lg"></i>
                </button>
            </div>
            <div class="p-6 space-y-4 overflow-y-auto">
                <div>
                    <h3 id="modal-title" class="text-2xl font-bold text-gray-800">ì¥ì†Œ ì´ë¦„</h3>
                    <p id="modal-subtitle" class="text-amber-600 text-[10px] font-bold mt-1 uppercase tracking-widest">CATEGORY</p>
                </div>
                <p id="modal-desc" class="text-sm text-gray-600 leading-relaxed">ìƒì„¸ ì„¤ëª…</p>
                
                <div class="bg-gray-50 p-4 rounded-2xl space-y-2 border border-gray-100 text-sm">
                    <p class="text-[10px] text-gray-400 font-bold uppercase">ìœ„ì¹˜ ë° ìƒì„¸ ì •ë³´</p>
                    <p id="modal-extra" class="text-xs text-gray-700 italic">ì¶”ê°€ ì •ë³´</p>
                </div>

                <div class="pt-2 flex gap-3">
                    <a id="modal-map-link" href="#" target="_blank" class="flex-1 bg-amber-600 text-white text-center py-4 rounded-2xl font-bold text-sm shadow-lg shadow-amber-200">
                        <i class="fa-solid fa-map-location-dot mr-2"></i>ì§€ë„ì—ì„œ ë³´ê¸°
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-4xl mx-auto px-4 py-3 flex justify-between items-center">
            <h1 class="text-lg font-bold text-gray-800"><i class="fa-solid fa-plane-departure text-amber-600 mr-2"></i>ë¶€ëª¨ë‹˜ê³¼ í•¨ê»˜ ë„ì¿„ ì—¬í–‰</h1>
            <span class="text-[10px] bg-amber-100 text-amber-800 px-2 py-1 rounded-full font-bold">3ë°• 4ì¼</span>
        </div>
    </header>

    <main class="flex-grow max-w-4xl mx-auto w-full px-4 py-4 space-y-6">

        <!-- Hero Section -->
        <section class="text-center py-6 bg-white rounded-3xl border border-gray-100 shadow-sm px-6">
            <h2 class="text-2xl font-bold text-gray-900 mb-1">ë¶€ëª¨ë‹˜ê³¼ í•¨ê»˜ ë„ì¿„ ì—¬í–‰</h2>
            <p class="text-xs text-gray-400 font-medium">2026.03.13(ê¸ˆ) - 2026.03.16(ì›”)</p>
        </section>

        <!-- Detailed Flight Info -->
        <section class="bg-white p-5 rounded-3xl shadow-sm border border-gray-100">
            <h3 class="text-sm font-bold text-gray-800 mb-4 flex items-center"><i class="fa-solid fa-ticket text-blue-500 mr-2"></i> í•­ê³µê¶Œ ìƒì„¸ ìŠ¤ì¼€ì¤„</h3>
            <div class="space-y-3">
                <!-- Outbound -->
                <div class="bg-blue-50 p-4 rounded-2xl border border-blue-100">
                    <div class="flex justify-between items-center mb-2">
                        <span class="text-[10px] font-bold text-blue-800 bg-blue-200 px-2 py-0.5 rounded">ì¶œêµ­: ì—ì–´ë¡œì¼€ì´ RF0324</span>
                        <span class="text-[10px] font-bold text-gray-500">ì˜ˆì•½ë²ˆí˜¸: VTV2AS</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <div class="text-center">
                            <div class="text-xl font-black text-gray-800">15:50</div>
                            <div class="text-[10px] text-gray-500 font-bold">ì²­ì£¼(CJJ)</div>
                        </div>
                        <div class="flex-grow flex flex-col items-center px-4">
                            <div class="text-[9px] text-blue-400 font-bold mb-1">2ì‹œê°„ 15ë¶„ ë¹„í–‰</div>
                            <div class="w-full h-px bg-blue-200 relative">
                                <i class="fa-solid fa-plane absolute -top-1.5 left-1/2 -translate-x-1/2 text-[10px] text-blue-400"></i>
                            </div>
                        </div>
                        <div class="text-center">
                            <div class="text-xl font-black text-gray-800">18:05</div>
                            <div class="text-[10px] text-gray-500 font-bold">ë‚˜ë¦¬íƒ€(NRT)</div>
                        </div>
                    </div>
                </div>
                <!-- Inbound -->
                <div class="bg-gray-50 p-4 rounded-2xl border border-gray-100">
                    <div class="flex justify-between items-center mb-2">
                        <span class="text-[10px] font-bold text-gray-700 bg-gray-200 px-2 py-0.5 rounded">ê·€êµ­: ì—ì–´ë¡œì¼€ì´ RF0391</span>
                        <span class="text-[10px] font-bold text-gray-500">ì˜ˆì•½ë²ˆí˜¸: VTV2AS</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <div class="text-center">
                            <div class="text-xl font-black text-gray-800">10:35</div>
                            <div class="text-[10px] text-gray-500 font-bold">ë‚˜ë¦¬íƒ€(NRT)</div>
                        </div>
                        <div class="flex-grow flex flex-col items-center px-4">
                            <div class="text-[9px] text-gray-400 font-bold mb-1">2ì‹œê°„ 30ë¶„ ë¹„í–‰</div>
                            <div class="w-full h-px bg-gray-300 relative">
                                <i class="fa-solid fa-plane absolute -top-1.5 left-1/2 -translate-x-1/2 text-[10px] text-gray-400 transform rotate-180"></i>
                            </div>
                        </div>
                        <div class="text-center">
                            <div class="text-xl font-black text-gray-800">13:05</div>
                            <div class="text-[10px] text-gray-500 font-bold">ì²­ì£¼(CJJ)</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Itinerary -->
        <section id="itinerary-section" class="bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden">
            <div class="p-5 bg-amber-50/50 border-b border-amber-100">
                <h3 class="text-sm font-bold text-gray-800 uppercase tracking-tighter">ğŸ“… ë‚ ì§œë³„ ìƒì„¸ ì¼ì • (í•­ëª© í´ë¦­)</h3>
            </div>
            
            <div class="flex border-b border-gray-200 sticky top-[52px] bg-white z-30">
                <button onclick="switchTab(1)" id="tab-1" class="flex-1 py-4 text-center text-sm transition-all tab-active interactive-btn">13(ê¸ˆ)</button>
                <button onclick="switchTab(2)" id="tab-2" class="flex-1 py-4 text-center text-sm transition-all tab-inactive interactive-btn">14(í† )</button>
                <button onclick="switchTab(3)" id="tab-3" class="flex-1 py-4 text-center text-sm transition-all tab-inactive interactive-btn">15(ì¼)</button>
                <button onclick="switchTab(4)" id="tab-4" class="flex-1 py-4 text-center text-sm transition-all tab-inactive interactive-btn">16(ì›”)</button>
            </div>

            <div class="p-5 min-h-[450px]">
                <div id="day-content" class="space-y-5 relative">
                    <!-- Dynamic Content -->
                </div>
            </div>
        </section>

        <!-- Budget -->
        <section class="bg-white p-6 rounded-3xl shadow-sm border border-gray-100">
            <h3 class="text-sm font-bold text-gray-800 mb-6 uppercase">ğŸ’° í˜„ì§€ ì§€ì¶œ ì˜ˆìƒ (4ì¸)</h3>
            <div class="chart-container mb-6">
                <canvas id="budgetChart"></canvas>
            </div>
            <div class="grid grid-cols-2 gap-2 text-xs">
                <div class="p-3 bg-red-50 rounded-2xl flex justify-between items-center">
                    <span class="text-red-800 font-bold">ì‹ë¹„/ì•¼ì‹</span>
                    <span class="font-bold text-gray-800">16ë§Œì—”</span>
                </div>
                <div class="p-3 bg-blue-50 rounded-2xl flex justify-between items-center">
                    <span class="text-blue-800 font-bold">íˆ¬ì–´/ì…ì¥ë£Œ</span>
                    <span class="font-bold text-gray-800">5ë§Œì—”</span>
                </div>
                <div class="p-3 bg-yellow-50 rounded-2xl flex justify-between items-center">
                    <span class="text-yellow-800 font-bold">êµí†µ(íƒì‹œ)</span>
                    <span class="font-bold text-gray-800">4.5ë§Œì—”</span>
                </div>
                <div class="p-3 bg-gray-50 rounded-2xl flex justify-between items-center">
                    <span class="text-gray-800 font-bold">ê¸°íƒ€/ì‡¼í•‘</span>
                    <span class="font-bold text-gray-800">3ë§Œì—”</span>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-gray-900 text-gray-500 py-10 text-center">
        <p class="text-[10px] font-bold uppercase tracking-widest opacity-40">2026 Tokyo Family Trip Guide</p>
    </footer>

    <script>
        const itineraryData = {
            1: [
                { id: "nrt", time: "18:05", title: "ë‚˜ë¦¬íƒ€ ê³µí•­ ë„ì°©", desc: "ì²­ì£¼ ì¶œë°œ RF0324í¸ ë„ì°©", icon: "fa-plane-arrival", color: "blue", img: "https://images.unsplash.com/photo-1556388158-158ea5ccacbd?q=80&w=600&auto=format&fit=crop", subtitle: "ARRIVAL", fullDesc: "ì—ì–´ë¡œì¼€ì´ ì§í•­í¸ìœ¼ë¡œ ë‚˜ë¦¬íƒ€ ê³µí•­ ì œ2í„°ë¯¸ë„ì— ë„ì°©í•©ë‹ˆë‹¤. ì…êµ­ ì‹¬ì‚¬ë¥¼ ë§ˆì¹˜ê³  ì˜¤ì‹œì•„ê²Œì—­ìœ¼ë¡œ ì´ë™í•˜ëŠ” ì—´ì°¨ë¥¼ íƒ‘ìŠ¹í•©ë‹ˆë‹¤.", extra: "ìˆ˜í•˜ë¬¼ ìˆ˜ì·¨ í›„ ê²Œì´ì„¸ì´ ì „ì²  ì¸í¬ë©”ì´ì…˜ ì´ë™", map: "https://www.google.com/maps/place/Narita+International+Airport" },
                { id: "stay", time: "20:30", title: "ìˆ™ì†Œ ì²´í¬ì¸", desc: "ë¬´ì½”ì§€ë§ˆ 2ì´ˆë©” ë…ì±„ í•˜ìš°ìŠ¤", icon: "fa-house", color: "green", img: "https://images.unsplash.com/photo-1505322103502-1f43196ef5d6?q=80&w=600&auto=format&fit=crop", subtitle: "AIRBNB", fullDesc: "ì˜ˆì•½í•˜ì‹  ë¬´ì½”ì§€ë§ˆ 2ì´ˆë©”ì˜ ì •ê°ˆí•œ ë…ì±„ ìˆ™ì†Œì…ë‹ˆë‹¤. 2ì¸µ ê·œëª¨ë¡œ ë°©ì´ 3ê°œ ìˆì–´ ë¶€ëª¨ë‹˜ê»˜ì„œ í¸ì•ˆí•˜ê²Œ ë¨¸ë¬´ë¥´ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.", extra: "ì£¼ì†Œ: 2-chÅme-11-4 MukÅjima, Sumida City, Tokyo 131-0033", map: "https://www.google.com/maps/place/2-ch%C5%8Dme-11-4+Muk%C5%8Djima,+Sumida+City,+Tokyo+131-0033" },
                { id: "sushi", time: "21:15", title: "ì„ì‹: ë§ˆë£¨ì¸ ë„¤ ìŠ¤ì‹œ", desc: "í˜„ì§€ì¸ì´ ì•„ë¼ëŠ” ë™ë„¤ ìŠ¤ì‹œì§‘", icon: "fa-utensils", color: "amber", img: "https://images.unsplash.com/photo-1553621042-f6e147245754?q=80&w=600&auto=format&fit=crop", subtitle: "LOCAL DINING", fullDesc: "ìˆ™ì†Œì—ì„œ ë„ë³´ 3ë¶„ ê±°ë¦¬ì˜ ìŠ¤ì‹œì•¼ì…ë‹ˆë‹¤. ì‹ ì„ í•œ ê³„ì ˆ ìƒì„ ì„ ì‚¬ìš©í•˜ì—¬ ì •ê°ˆí•˜ê²Œ ì œê³µë˜ëŠ” ì´ˆë°¥ìœ¼ë¡œ ì¼ë³¸ ì—¬í–‰ì˜ ì²« ì‹ì‚¬ë¥¼ ì¦ê¹ë‹ˆë‹¤.", extra: "ì˜ì—… ì¢…ë£Œ ì‹œê°„ í™•ì¸ í•„ìˆ˜ / í˜„ê¸ˆ ê¶Œì¥", map: "https://www.google.com/maps/search/Maru+Tsune+Sushi+Mukojima" },
                { id: "life", time: "22:10", title: "ë¼ì´í”„ ë§ˆíŠ¸ ì‡¼í•‘", desc: "ì•¼ì‹ìš© íšŒ & ì‚¬ì¼€ êµ¬ë§¤", icon: "fa-basket-shopping", color: "purple", img: "https://images.unsplash.com/photo-1542838132-92c53300491e?q=80&w=600&auto=format&fit=crop", subtitle: "SUPERMARKET", fullDesc: "ëŒ€í˜• ë§ˆíŠ¸ 'ë¼ì´í”„'ì—ì„œ ì•¼ì‹ê±°ë¦¬ë¥¼ ì‡¼í•‘í•©ë‹ˆë‹¤. ë§ˆê° ì„¸ì¼ íšŒì™€ ì¼ë³¸ ë§¥ì£¼, ì‚¬ì¼€ë¥¼ ì‚¬ì„œ ìˆ™ì†Œì—ì„œ ì˜¤ë¶“í•˜ê²Œ ì¦ê¹ë‹ˆë‹¤.", extra: "ì¶”ì²œ: ì‚¿í¬ë¡œ í´ë˜ì‹ ë§¥ì£¼, ëª¨ë‘  ì‚¬ì‹œë¯¸ ì„¸íŠ¸", map: "https://www.google.com/maps/search/Life+Supermarket+Oshiage" }
            ],
            2: [
                { id: "asakusa", time: "11:00", title: "ì•„ì‚¬ì¿ ì‚¬ ì„¼ì†Œì§€", desc: "ë„ì¿„ì˜ ìƒì§• ì¹´ë¯¸ë‚˜ë¦¬ëª¬ ë°©ë¬¸", icon: "fa-torii-gate", color: "red", img: "https://images.unsplash.com/photo-1545569341-9eb8b30979d9?q=80&w=600&auto=format&fit=crop", subtitle: "TRADITION", fullDesc: "ë„ì¿„ì—ì„œ ê°€ì¥ ì˜¤ë˜ëœ ì ˆì…ë‹ˆë‹¤. ë¶‰ì€ ë“± ì•„ë˜ì—ì„œ ì‚¬ì§„ì„ ì°ê³  ë‚˜ì¹´ë¯¸ì„¸ ìƒì ê°€ì—ì„œ ì „í†µ ê°„ì‹ì„ êµ¬ê²½í•©ë‹ˆë‹¤.", extra: "íƒì‹œ ì´ë™ ê¶Œì¥ (ë³´í–‰ ìµœì†Œí™”)", map: "https://www.google.com/maps/place/Senso-ji" },
                { id: "rickshaw", time: "12:10", title: "ì•„ì‚¬ì¿ ì‚¬ ì¸ë ¥ê±°", desc: "ì•‰ì•„ì„œ ì¦ê¸°ëŠ” ê³¨ëª© íˆ¬ì–´", icon: "fa-bicycle", color: "gray", img: "https://images.unsplash.com/photo-1526481280693-3bfa756180f9?q=80&w=600&auto=format&fit=crop", subtitle: "EXPERIENCE", fullDesc: "ì¸ë ¥ê±° 2ëŒ€ë¥¼ ëŒ€ì ˆí•˜ì—¬ ì•„ì‚¬ì¿ ì‚¬ êµ¬ì„êµ¬ì„ì„ ê´€ê´‘í•©ë‹ˆë‹¤. ë¶€ëª¨ë‹˜ê»˜ì„œ ê±·ì§€ ì•Šê³  í¸ì•ˆí•˜ê²Œ í’ê²½ì„ ì¦ê¸°ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.", extra: "ì˜ˆì•½ ì™„ë£Œ / íƒ‘ìŠ¹ ì¥ì†Œ ì•ˆë‚´ ì˜ˆì •", map: "https://www.google.com/maps/search/Asakusa+Rickshaw+Tour" },
                { id: "imahan", time: "13:30", title: "ì¤‘ì‹: ì´ë§ˆí•œ ìŠ¤í‚¤ì•¼í‚¤", desc: "ì „í†µì˜ ëª…ê°€ì—ì„œ ì¦ê¸°ëŠ” ì™€ê·œ", icon: "fa-bowl-food", color: "amber", img: "https://images.unsplash.com/photo-1591814448473-7027b515b67a?q=80&w=600&auto=format&fit=crop", subtitle: "GOURMET", fullDesc: "1895ë…„ ì°½ì—…í•œ ìŠ¤í‚¤ì•¼í‚¤ ì „ë¬¸ì ì…ë‹ˆë‹¤. ìµœê³ ê¸‰ ì™€ê·œë¥¼ ì •ì„±ìŠ¤ëŸ½ê²Œ ì¡°ë¦¬í•˜ì—¬ ì… ì•ˆì—ì„œ ë…¹ëŠ” ì¼ë³¸ ìµœê³ ì˜ ë§›ì„ ëŒ€ì ‘í•©ë‹ˆë‹¤.", extra: "êµ­ì œê±°ë¦¬ ë³¸ì  / 1ì¸ ì•½ 6~8ì²œì—” ì˜ˆì‚°", map: "https://www.google.com/maps/search/Asakusa+Imahan+Kokusai-dori" },
                { id: "jojoen", time: "19:00", title: "ì„ì‹: ì£ ì£ ì—” ì™€ê·œ", desc: "30ì¸µ ì•¼ê²½ ì•¼í‚¤ë‹ˆì¿ ", icon: "fa-fire-burner", color: "amber", img: "https://images.unsplash.com/photo-1514355315815-2b64b0216b14?q=80&w=600&auto=format&fit=crop", subtitle: "NIGHT VIEW", fullDesc: "ìŠ¤ì¹´ì´íŠ¸ë¦¬ ì†Œë¼ë§ˆì¹˜ 30ì¸µì—ì„œ ë„ì¿„ì˜ í™˜ìƒì ì¸ ì•¼ê²½ì„ ë³´ë©° ì¦ê¸°ëŠ” ê³ ê¸‰ ì•¼í‚¤ë‹ˆì¿  ì‹ì‚¬ì…ë‹ˆë‹¤. ì°½ê°€ ìë¦¬ë¥¼ ë¯¸ë¦¬ í™•ë³´í–ˆìŠµë‹ˆë‹¤.", extra: "ì˜ˆì•½ ì™„ë£Œ / ìŠ¤ì¹´ì´íŠ¸ë¦¬ ë„ë³´ 1ë¶„", map: "https://www.google.com/maps/place/Jojoen+Tokyo+Skytree+Town+Solamachi" }
            ],
            3: [
                { id: "arakurayama", time: "10:30", title: "ì•„ë¼ì¿ ë¼ì•¼ë§ˆ ì„¼ê²ê³µì›", desc: "í›„ì§€ì‚° ìµœê³ ì˜ ì „ë§ ëª…ì†Œ", icon: "fa-mountain", color: "red", img: "https://images.unsplash.com/photo-1524413840807-0c3cb6fa808d?q=80&w=600&auto=format&fit=crop", subtitle: "KLOOK TOUR", fullDesc: "í›„ì§€ì‚°ì˜ ì¥ì—„í•œ ì „ê²½ê³¼ ë¶‰ì€ ì˜¤ì¸µíƒ‘ì„ í•œêº¼ë²ˆì— ë‹´ì„ ìˆ˜ ìˆëŠ” ì¼ë³¸ ìµœê³ ì˜ í¬í† ì¡´ì…ë‹ˆë‹¤.", extra: "ê°€ì´ë“œ ë¯¸íŒ…: ë„ì¿„ì—­ ë§ˆë£¨ë…¸ìš°ì¹˜ ë¶êµ¬ (08:20)", map: "https://www.google.com/maps/place/Arakurayama+Sengen+Park" },
                { id: "oishi", time: "12:30", title: "ê°€ì™€êµ¬ì¹˜ì½” ì˜¤ì´ì‹œ ê³µì›", desc: "í˜¸ìˆ«ê°€ ì‚°ì±… & í–¥í†  ì ì‹¬", icon: "fa-water", color: "blue", img: "https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?q=80&w=600&auto=format&fit=crop", subtitle: "LAKESIDE", fullDesc: "í›„ì§€ì‚°ì´ í•œëˆˆì— ë³´ì´ëŠ” í˜¸ìˆ«ê°€ ê³µì›ì„ ì‚°ì±…í•©ë‹ˆë‹¤. ì ì‹¬ì€ ì´ ì§€ì—­ íŠ¹ì‚° ìš”ë¦¬ì¸ ëœì¥ ì¹¼êµ­ìˆ˜ 'í˜¸í† 'ë¥¼ ë¨¹ìŠµë‹ˆë‹¤.", extra: "íŒ: ê³µì› ë‚´ ì†Œí”„íŠ¸ ì•„ì´ìŠ¤í¬ë¦¼ì´ ìœ ëª…í•¨", map: "https://www.google.com/maps/place/Oishi+Park" },
                { id: "oshino", time: "14:30", title: "ì˜¤ì‹œë…¸í•«ì¹´ì´ ë§ˆì„", desc: "íˆ¬ëª…í•œ 8ê°œì˜ ì‹ ë¹„ë¡œìš´ ì—°ëª»", icon: "fa-leaf", color: "green", img: "https://images.unsplash.com/photo-1536413661601-52a0a2569e96?q=80&w=600&auto=format&fit=crop", subtitle: "TRADITION", fullDesc: "í›„ì§€ì‚°ì˜ ëˆˆì´ ë…¹ì•„ ë§Œë“  ê¹Šê³  íˆ¬ëª…í•œ 8ê°œì˜ ì—°ëª»ì´ ìˆëŠ” ì „í†µ ë§ˆì„ì…ë‹ˆë‹¤. ë¬¼ì˜ ë§‘ìŒì´ ê²½ì´ë¡œìš´ ìˆ˜ì¤€ì…ë‹ˆë‹¤.", extra: "ì‘¥ë–¡(ì¿ ì‚¬ëª¨ì°Œ) ì‹œì‹ ì¶”ì²œ", map: "https://www.google.com/maps/place/Oshino+Hakkai" },
                { id: "lawson", time: "16:10", title: "ë¡œì† í›„ì§€ì‚° í¬í† ì¡´", desc: "SNS í™”ì œì˜ ì¸ì¦ìƒ· ì½”ìŠ¤", icon: "fa-camera", color: "pink", img: "https://images.unsplash.com/photo-1608631163456-11f265ec79e5?q=80&w=600&auto=format&fit=crop", subtitle: "INSTAGRAMMABLE", fullDesc: "í¸ì˜ì  ì§€ë¶• ìœ„ë¡œ í›„ì§€ì‚°ì´ ë–  ìˆëŠ” ë“¯í•œ ì°©ì‹œë¥¼ ì£¼ëŠ” ìœ ëª…í•œ ì´¬ì˜ ëª…ì†Œì…ë‹ˆë‹¤. ë§ˆì§€ë§‰ ì¸ì¦ìƒ·ì„ ë‚¨ê¹ë‹ˆë‹¤.", extra: "íˆ¬ì–´ì˜ ë§ˆì§€ë§‰ ì½”ìŠ¤ / ë„ë¡œ ì•ˆì „ ì£¼ì˜", map: "https://www.google.com/maps/place/Lawson+Kawaguchiko+Station+Front" },
                { id: "shabuki", time: "19:30", title: "ì„ì‹: ê¸´ì ìƒ¤ë¶€í‚¤", desc: "í”„ë¼ì´ë¹— ë£¸ì—ì„œ ì¦ê¸°ëŠ” ìƒ¤ë¸Œìƒ¤ë¸Œ", icon: "fa-utensils", color: "amber", img: "https://images.unsplash.com/photo-1608882585465-b772714a601e?q=80&w=600&auto=format&fit=crop", subtitle: "FINAL DINNER", fullDesc: "ì—¬í–‰ì˜ ë§ˆì§€ë§‰ ë°¤ì„ ì¥ì‹í•˜ëŠ” ìµœê³ ê¸‰ í‘ìš° ìƒ¤ë¸Œìƒ¤ë¸Œì…ë‹ˆë‹¤. ì „ ì¢Œì„ì´ ë°©ìœ¼ë¡œ ë˜ì–´ ìˆì–´ ì˜¤ë¶“í•˜ê²Œ ì‹ì‚¬ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.", extra: "ê¸´ì ìœ„ì¹˜ / ë§ˆì§€ë§‰ ë°¤ ì¶•ë°°ë¥¼!", map: "https://www.google.com/maps/place/Ginza+Shabuki" }
            ],
            4: [
                { id: "skyliner", time: "07:30", title: "ê³µí•­í–‰ ê¸°ì°¨ íƒ‘ìŠ¹", desc: "ìš°ì—ë…¸ì—­ì—ì„œ ìŠ¤ì¹´ì´ë¼ì´ë„ˆ", icon: "fa-train", color: "gray", img: "https://images.unsplash.com/photo-1528150177508-7cc0c36cda5c?q=80&w=600&auto=format&fit=crop", subtitle: "DEPARTURE", fullDesc: "íƒì‹œë¥¼ íƒ€ê³  ìš°ì—ë…¸ì—­ìœ¼ë¡œ ì´ë™í•˜ì—¬ ê°€ì¥ ë¹ ë¥¸ ê³µí•­ íŠ¹ê¸‰ ì—´ì°¨ì¸ ìŠ¤ì¹´ì´ë¼ì´ë„ˆ ì§€ì •ì„ì— íƒ‘ìŠ¹í•©ë‹ˆë‹¤.", extra: "íƒì‹œë¹„ ì•½ 3ì²œì—” ì˜ˆì‚° / ì—´ì°¨ ì˜ˆì•½ í™•ì¸", map: "https://www.google.com/maps/place/Keisei+Ueno+Station" },
                { id: "home", time: "10:35", title: "ë‚˜ë¦¬íƒ€ ì´ë¥™", desc: "ì²­ì£¼ ë„ì°© ë° ê·€ê°€", icon: "fa-plane-departure", color: "blue", img: "https://images.unsplash.com/photo-1436491865332-7a61a109c0f3?q=80&w=600&auto=format&fit=crop", subtitle: "HEADING HOME", fullDesc: "ì¦ê±°ì› ë˜ ë„ì¿„ ì¼ì •ì„ ë§ˆì¹˜ê³  ì•ˆì „í•˜ê²Œ ì²­ì£¼ ê³µí•­ìœ¼ë¡œ ëŒì•„ê°‘ë‹ˆë‹¤. ê³ ìƒ ë§ìœ¼ì…¨ìŠµë‹ˆë‹¤!", extra: "ì˜¤í›„ 1:05 ì²­ì£¼ ë„ì°© ì˜ˆì •", map: "https://www.google.com/maps/place/Narita+International+Airport" }
            ]
        };

        function switchTab(day) {
            for(let i=1; i<=4; i++) {
                const tab = document.getElementById(`tab-${i}`);
                if (i === day) {
                    tab.classList.remove('tab-inactive');
                    tab.classList.add('tab-active');
                } else {
                    tab.classList.add('tab-inactive');
                    tab.classList.remove('tab-active');
                }
            }
            renderTimeline(day);
        }

        function renderTimeline(day) {
            const container = document.getElementById('day-content');
            const events = itineraryData[day];
            let html = '<div class="timeline-line"></div>';

            events.forEach((event) => {
                const colorClasses = {
                    blue: 'bg-blue-100 text-blue-600', amber: 'bg-amber-100 text-amber-600',
                    green: 'bg-green-100 text-green-600', red: 'bg-red-100 text-red-600',
                    purple: 'bg-purple-100 text-purple-600', gray: 'bg-gray-100 text-gray-600',
                    yellow: 'bg-yellow-100 text-yellow-600', pink: 'bg-pink-100 text-pink-600'
                };

                html += `
                    <div class="relative pl-12 interactive-btn" onclick="openModal('${day}', '${event.id}')">
                        <div class="absolute left-0 top-1 w-10 h-10 rounded-full ${colorClasses[event.color]} flex items-center justify-center border-4 border-white shadow-md z-10 text-xs">
                            <i class="fa-solid ${event.icon}"></i>
                        </div>
                        <div class="bg-gray-50 rounded-2xl p-4 border border-gray-100 shadow-sm active:bg-gray-100 transition-all">
                            <div class="flex justify-between items-center mb-1">
                                <span class="font-bold text-gray-800 text-sm">${event.title}</span>
                                <span class="text-[10px] font-bold text-gray-400 bg-white px-2 py-0.5 rounded-full border border-gray-100">${event.time}</span>
                            </div>
                            <p class="text-gray-500 text-[11px] leading-tight">${event.desc}</p>
                        </div>
                    </div>
                `;
            });
            container.innerHTML = html;
        }

        function openModal(day, eventId) {
            const event = itineraryData[day].find(e => e.id === eventId);
            if (!event) return;

            document.getElementById('modal-image').style.backgroundImage = `url('${event.img}')`;
            document.getElementById('modal-title').innerText = event.title;
            document.getElementById('modal-subtitle').innerText = event.subtitle;
            document.getElementById('modal-desc').innerText = event.fullDesc;
            document.getElementById('modal-extra').innerText = event.extra;
            document.getElementById('modal-map-link').href = event.map;
            
            const modal = document.getElementById('details-modal');
            modal.classList.remove('modal-hidden');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            const modal = document.getElementById('details-modal');
            modal.classList.add('modal-hidden');
            document.body.style.overflow = 'auto';
        }

        document.addEventListener('DOMContentLoaded', function() {
            switchTab(1);

            const ctx = document.getElementById('budgetChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['ì‹ë¹„', 'íˆ¬ì–´', 'êµí†µ', 'ê¸°íƒ€'],
                    datasets: [{
                        data: [160000, 50000, 45000, 30000],
                        backgroundColor: ['#f87171', '#60a5fa', '#facc15', '#9ca3af'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '70%',
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            bodyFont: { size: 14, family: "'Noto Sans KR', sans-serif" },
                            callbacks: {
                                label: function(context) { return ' ' + context.label + ': ' + context.raw.toLocaleString() + 'ì—”'; }
                            }
                        }
                    }
                }
            });

            document.getElementById('details-modal').addEventListener('click', function(e) {
                if(e.target === this) closeModal();
            });
        });
    </script>
</body>
</html>