<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>2026 ë„ì¿„ íš¨ë„ ì—¬í–‰ ê°€ì´ë“œ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Chosen Palette: Warm Neutral Harmony (Beige, Soft Brown, Slate) -->
    <!-- Application Structure Plan: 
         - Data Correction: Implemented Airbnb address (2-chÅme-11-4 MukÅjima) and accurate Klook Fuji tour details.
         - Logic Update: Improved modal data handling to ensure images and descriptions match the specific location IDs.
         - Accessibility: Retained large touch targets and simplified layout for mobile usage.
    -->

    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #fcfbf9;
            color: #333333;
            -webkit-tap-highlight-color: transparent;
            padding-bottom: env(safe-area-inset-bottom);
        }
        
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 100%;
            margin: 0 auto;
            height: 250px;
        }

        .tab-active {
            border-bottom: 4px solid #8d6e63;
            color: #5d4037;
            font-weight: 700;
            background-color: rgba(141, 110, 99, 0.05);
        }
        .tab-inactive {
            color: #9e9e9e;
            font-weight: 400;
        }
        
        .timeline-line {
            position: absolute;
            left: 20px;
            top: 0;
            bottom: 0;
            width: 2px;
            background-color: #e0e0e0;
            z-index: 0;
        }

        .interactive-btn {
            cursor: pointer;
            touch-action: manipulation;
            -webkit-appearance: none;
        }

        header {
            padding-top: env(safe-area-inset-top);
        }

        /* Modal Animation */
        #details-modal {
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .modal-content {
            transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        .modal-hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }
        .modal-hidden .modal-content {
            transform: scale(0.9) translateY(20px);
        }
    </style>
</head>
<body class="antialiased min-h-screen flex flex-col">

    <!-- Modal for Place Details -->
    <div id="details-modal" class="fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/70 modal-hidden">
        <div class="modal-content bg-white w-full max-w-md rounded-3xl overflow-hidden shadow-2xl flex flex-col max-h-[85vh]">
            <div id="modal-image" class="h-56 w-full bg-cover bg-center bg-gray-200 relative">
                <button onclick="closeModal()" class="absolute top-4 right-4 bg-black/40 backdrop-blur-md text-white w-10 h-10 rounded-full flex items-center justify-center">
                    <i class="fa-solid fa-xmark text-lg"></i>
                </button>
            </div>
            <div class="p-6 space-y-4 overflow-y-auto">
                <div>
                    <h3 id="modal-title" class="text-2xl font-bold text-gray-800">ì¥ì†Œ ì´ë¦„</h3>
                    <p id="modal-subtitle" class="text-amber-600 text-xs font-bold mt-1 uppercase tracking-wider">CATEGORY</p>
                </div>
                <p id="modal-desc" class="text-sm text-gray-600 leading-relaxed">ìƒì„¸ ì„¤ëª…</p>
                
                <div class="bg-gray-50 p-4 rounded-2xl space-y-2 border border-gray-100">
                    <p class="text-[10px] text-gray-400 font-bold uppercase">ì£¼ì†Œ ë° ì •ë³´</p>
                    <p id="modal-extra" class="text-xs text-gray-700 italic">ì¶”ê°€ ì •ë³´</p>
                </div>

                <div class="pt-2 flex gap-3">
                    <a id="modal-map-link" href="#" target="_blank" class="flex-1 bg-amber-600 text-white text-center py-4 rounded-2xl font-bold text-sm shadow-lg shadow-amber-200 active:scale-95 transition-transform">
                        <i class="fa-solid fa-map-location-dot mr-2"></i>ì§€ë„ì—ì„œ ë³´ê¸°
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-4xl mx-auto px-4 py-3 flex justify-between items-center">
            <h1 class="text-lg font-bold text-gray-800"><i class="fa-solid fa-plane-departure text-amber-600 mr-2"></i>ë„ì¿„ íš¨ë„ ì—¬í–‰ 2026</h1>
            <span class="text-[10px] bg-amber-100 text-amber-800 px-2 py-1 rounded-full font-bold">3ë°• 4ì¼</span>
        </div>
    </header>

    <main class="flex-grow max-w-4xl mx-auto w-full px-4 py-4 space-y-6">

        <!-- Hero Section -->
        <section class="text-center py-5 bg-white rounded-3xl border border-gray-100 shadow-sm px-6">
            <h2 class="text-2xl font-bold text-gray-900 mb-1">ë¶€ëª¨ë‹˜ íë§ ë„ì¿„ ë‚˜ë“¤ì´</h2>
            <p class="text-sm text-gray-400 font-medium">"ê±·ëŠ” ê±±ì • ë§ˆì„¸ìš”, ì•„ë“¤ì´ ë‹¤ ì¤€ë¹„í–ˆìŠµë‹ˆë‹¤"</p>
            <div class="mt-5 flex justify-center gap-6">
                <div class="text-center">
                    <div class="text-amber-600 text-[10px] font-bold">START</div>
                    <div class="text-lg font-black text-gray-800">3/13</div>
                </div>
                <div class="w-px h-8 bg-gray-200 self-center"></div>
                <div class="text-center">
                    <div class="text-amber-600 text-[10px] font-bold">END</div>
                    <div class="text-lg font-black text-gray-800">3/16</div>
                </div>
                <div class="w-px h-8 bg-gray-200 self-center"></div>
                <div class="text-center">
                    <div class="text-amber-600 text-[10px] font-bold">MEMBERS</div>
                    <div class="text-lg font-black text-gray-800">4ëª…</div>
                </div>
            </div>
        </section>

        <!-- Itinerary -->
        <section id="itinerary-section" class="bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden">
            <div class="p-5 bg-amber-50/50 border-b border-amber-100">
                <h3 class="text-md font-bold text-gray-800">ğŸ“… ë‚ ì§œë³„ ìƒì„¸ ì¼ì • (í•­ëª© í´ë¦­)</h3>
            </div>
            
            <div class="flex border-b border-gray-200 sticky top-[52px] bg-white z-30">
                <button onclick="switchTab(1)" id="tab-1" class="flex-1 py-4 text-center text-sm transition-all tab-active interactive-btn">13(ê¸ˆ)</button>
                <button onclick="switchTab(2)" id="tab-2" class="flex-1 py-4 text-center text-sm transition-all tab-inactive interactive-btn">14(í† )</button>
                <button onclick="switchTab(3)" id="tab-3" class="flex-1 py-4 text-center text-sm transition-all tab-inactive interactive-btn">15(ì¼)</button>
                <button onclick="switchTab(4)" id="tab-4" class="flex-1 py-4 text-center text-sm transition-all tab-inactive interactive-btn">16(ì›”)</button>
            </div>

            <div class="p-5 min-h-[450px]">
                <div id="day-content" class="space-y-5 relative">
                    <!-- Dynamic Content -->
                </div>
            </div>
        </section>

        <!-- Budget -->
        <section class="bg-white p-6 rounded-3xl shadow-sm border border-gray-100">
            <h3 class="text-md font-bold text-gray-800 mb-4 flex items-center"><i class="fa-solid fa-coins text-amber-500 mr-2"></i> í˜„ì§€ ì˜ˆìƒ ê²½ë¹„</h3>
            <div class="chart-container mb-6">
                <canvas id="budgetChart"></canvas>
            </div>
            <div class="grid grid-cols-2 gap-2">
                <div class="p-3 bg-red-50 rounded-2xl border border-red-100 flex flex-col">
                    <span class="text-[10px] text-red-800 font-bold uppercase">ì‹ë¹„</span>
                    <span class="font-bold text-gray-800 text-sm">160,000ì—”</span>
                </div>
                <div class="p-3 bg-blue-50 rounded-2xl border border-blue-100 flex flex-col">
                    <span class="text-[10px] text-blue-800 font-bold uppercase">íˆ¬ì–´</span>
                    <span class="font-bold text-gray-800 text-sm">50,000ì—”</span>
                </div>
                <div class="p-3 bg-yellow-50 rounded-2xl border border-yellow-100 flex flex-col">
                    <span class="text-[10px] text-yellow-800 font-bold uppercase">êµí†µ</span>
                    <span class="font-bold text-gray-800 text-sm">45,000ì—”</span>
                </div>
                <div class="p-3 bg-gray-50 rounded-2xl border border-gray-100 flex flex-col">
                    <span class="text-[10px] text-gray-800 font-bold uppercase">ì‡¼í•‘</span>
                    <span class="font-bold text-gray-800 text-sm">30,000ì—”</span>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-gray-900 text-gray-500 py-10 text-center">
        <p class="text-xs">2026 Tokyo Family Trip Guide v3.1</p>
        <p class="text-[10px] mt-2 opacity-40">Handcrafted with care by your son</p>
    </footer>

    <script>
        const itineraryData = {
            1: [
                { id: "nrt", time: "18:05", title: "ë‚˜ë¦¬íƒ€ ê³µí•­ ë„ì°©", desc: "ì…êµ­ ìˆ˜ì† ë° ì§ ì°¾ê¸°", icon: "fa-plane-arrival", color: "blue", img: "https://images.unsplash.com/photo-1570710891163-6d3b5c47248b?auto=format&fit=crop&w=600&q=80", subtitle: "FLIGHT ARRIVAL", fullDesc: "ì—ì–´ë¡œì¼€ì´ RF324í¸ìœ¼ë¡œ ë‚˜ë¦¬íƒ€ ê³µí•­ì— ë„ì°©í•©ë‹ˆë‹¤. ì…êµ­ í›„ ì•¡ì„¸ìŠ¤ íŠ¹ê¸‰ì„ íƒ€ê³  ì˜¤ì‹œì•„ê²Œì—­ìœ¼ë¡œ ë°”ë¡œ ì´ë™í•  ì˜ˆì •ì…ë‹ˆë‹¤.", extra: "ë‚˜ë¦¬íƒ€ ê³µí•­ ì œ2í„°ë¯¸ë„ / ìˆ˜í•˜ë¬¼ 15kg í™•ì¸", map: "https://www.google.com/maps/place/Narita+International+Airport" },
                { id: "stay", time: "20:30", title: "ìˆ™ì†Œ ì²´í¬ì¸", desc: "ë¬´ì½”ì§€ë§ˆ ë…ì±„ í•˜ìš°ìŠ¤", icon: "fa-house", color: "green", img: "https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?auto=format&fit=crop&w=600&q=80", subtitle: "ACCOMMODATION", fullDesc: "ì—ì–´ë¹„ì•¤ë¹„ë¡œ ì˜ˆì•½í•œ ë¬´ì½”ì§€ë§ˆ 2ì´ˆë©” ë…ì±„ ìˆ™ì†Œì…ë‹ˆë‹¤. 2ì¸µ ê·œëª¨ì˜ ë„“ì€ ê³µê°„ê³¼ í™”ì¥ì‹¤ 2ê°œê°€ ì™„ë¹„ë˜ì–´ ìˆì–´ ë¶€ëª¨ë‹˜ê»˜ì„œ í¸ì•ˆí•˜ê²Œ ë¨¸ë¬´ë¥´ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.", extra: "ì£¼ì†Œ: 2-chÅme-11-4 MukÅjima, Sumida City, Tokyo 131-0033", map: "https://www.google.com/maps/place/2-ch%C5%8Dme-11-4+Muk%C5%8Djima,+Sumida+City,+Tokyo+131-0033" },
                { id: "sushi", time: "21:15", title: "ì²« ì‹ì‚¬: ë§ˆë£¨ì¸ ë„¤ ìŠ¤ì‹œ", desc: "í˜„ì§€ì¸ ì¶”ì²œ ë™ë„¤ ìŠ¤ì‹œì§‘", icon: "fa-utensils", color: "amber", img: "https://images.unsplash.com/photo-1579871494447-9811cf80d66c?auto=format&fit=crop&w=600&q=80", subtitle: "LOCAL DINING", fullDesc: "ìˆ™ì†Œ ë„ë³´ 3ë¶„ ê±°ë¦¬ì˜ ì •í†µ ìŠ¤ì‹œì•¼ì…ë‹ˆë‹¤. ì²«ë‚  ë„ì°© í›„ í”¼ê³¤í•˜ì‹¤ ë¶€ëª¨ë‹˜ì„ ìœ„í•´ ê°€ì¥ ê°€ê¹Œìš°ë©´ì„œë„ í›Œë¥­í•œ í‰ì ì„ ê°€ì§„ ê³³ìœ¼ë¡œ ì„ ì •í–ˆìŠµë‹ˆë‹¤.", extra: "ë„ë³´ 5ì´ˆ ê±°ë¦¬ì— ì½”ì¸ ì£¼ì°¨ì¥ë„ ìˆìŠµë‹ˆë‹¤.", map: "https://www.google.com/maps/search/Maru+Tsune+Sushi+Mukojima" },
                { id: "life", time: "22:10", title: "ë¼ì´í”„ ë§ˆíŠ¸ ì•¼ì‹", desc: "íšŒ & ì‚¬ì¼€ ë§ˆê° ì„¸ì¼ ì‡¼í•‘", icon: "fa-basket-shopping", color: "purple", img: "https://images.unsplash.com/photo-1534723452862-4c874e70d6f3?auto=format&fit=crop&w=600&q=80", subtitle: "MART TOUR", fullDesc: "ëŒ€í˜• ë§ˆíŠ¸ 'ë¼ì´í”„'ì—ì„œ ë§ˆê° ì„¸ì¼ ì‚¬ì‹œë¯¸ì™€ ì¼ë³¸ ë§¥ì£¼ë¥¼ êµ¬ë§¤í•©ë‹ˆë‹¤. ìˆ™ì†Œì—ì„œ ì˜¤ë¶“í•˜ê²Œ ì•¼ì‹ì„ ì¦ê¸°ëŠ” ì²«ë‚  ë°¤!", extra: "ì¶”ì²œ: ë§ˆê° í• ì¸ ì´ˆë°¥, ì‚¿í¬ë¡œ í´ë˜ì‹", map: "https://www.google.com/maps/search/Life+Supermarket+Oshiage" }
            ],
            2: [
                { id: "asakusa", time: "11:00", title: "ì•„ì‚¬ì¿ ì‚¬ ì„¼ì†Œì§€", desc: "ì¹´ë¯¸ë‚˜ë¦¬ëª¬ ê¸°ë… ì´¬ì˜", icon: "fa-torii-gate", color: "red", img: "https://images.unsplash.com/photo-1590559063737-087f938a2ad5?auto=format&fit=crop&w=600&q=80", subtitle: "HISTORIC SITE", fullDesc: "ë„ì¿„ì—ì„œ ê°€ì¥ ì˜¤ë˜ëœ ì‚¬ì°°ì¸ ì„¼ì†Œì§€ë¥¼ ë°©ë¬¸í•©ë‹ˆë‹¤. ê±°ëŒ€í•œ ë¶‰ì€ ë“± ì•„ë˜ì„œ ê°€ì¡± ì‚¬ì§„ì„ ì°ê³  ë‚˜ì¹´ë¯¸ì„¸ ìƒì ê°€ë¥¼ êµ¬ê²½í•©ë‹ˆë‹¤.", extra: "íŒ: ì‚¬ëŒì´ ë§ìœ¼ë‹ˆ íƒì‹œì—ì„œ ë‚´ë ¤ì„œ ì¡°ì‹¬íˆ ì´ë™í•˜ì„¸ìš”.", map: "https://www.google.com/maps/place/Senso-ji" },
                { id: "rickshaw", time: "12:10", title: "ì•„ì‚¬ì¿ ì‚¬ ì¸ë ¥ê±°", desc: "ë¶€ëª¨ë‹˜ ì „ìš© ê°€ì´ë“œ íˆ¬ì–´", icon: "fa-bicycle", color: "gray", img: "https://images.unsplash.com/photo-1512401886136-1936365a6f23?auto=format&fit=crop&w=600&q=80", subtitle: "EXPERIENCE", fullDesc: "ì¸ë ¥ê±° 2ëŒ€ë¥¼ ëŒ€ì ˆí•´ ë¶€ëª¨ë‹˜ì„ ëª¨ì‹­ë‹ˆë‹¤. ê±·ì§€ ì•Šê³  í¸ì•ˆí•˜ê²Œ ì•‰ì•„ ì—ë„ ì‹œëŒ€ ë¶„ìœ„ê¸°ì˜ ê³¨ëª©ê¸¸ ì„¤ëª…ì„ ë“¤ìœ¼ë©° ê´€ê´‘í•©ë‹ˆë‹¤.", extra: "ì˜ˆì•½ ì™„ë£Œ / íƒ‘ìŠ¹ ì¥ì†Œ: ì¹´ë¯¸ë‚˜ë¦¬ëª¬ ì •ë¬¸ ë¶€ê·¼", map: "https://www.google.com/maps/search/Asakusa+Rickshaw+Tour" },
                { id: "imahan", time: "13:30", title: "ì¤‘ì‹: ì´ë§ˆí•œ ìŠ¤í‚¤ì•¼í‚¤", desc: "1895ë…„ ì°½ì—…í•œ ëª…í’ˆ ì™€ê·œ", icon: "fa-bowl-food", color: "amber", img: "https://images.unsplash.com/photo-1581454045508-316e6d782987?auto=format&fit=crop&w=600&q=80", subtitle: "GOURMET", fullDesc: "ì…ì—ì„œ ì‚´ì‚´ ë…¹ëŠ” ì •í†µ ìŠ¤í‚¤ì•¼í‚¤ì…ë‹ˆë‹¤. ë¶€ëª¨ë‹˜ê»˜ ì¼ë³¸ ìµœê³ ì˜ ì†Œê³ ê¸° ìš”ë¦¬ë¥¼ ëŒ€ì ‘í•˜ëŠ” í’ˆê²© ìˆëŠ” ì ì‹¬ ì‹ì‚¬ì…ë‹ˆë‹¤.", extra: "êµ­ì œê±°ë¦¬ ë³¸ì  / ëŸ°ì¹˜ ë©”ë‰´ 1ì¸ 5,000~8,000ì—”", map: "https://www.google.com/maps/search/Asakusa+Imahan+Kokusai-dori" },
                { id: "skytree", time: "19:00", title: "ì„ì‹: ì£ ì£ ì—” ì™€ê·œ", desc: "30ì¸µ ì•¼ê²½ ì•¼í‚¤ë‹ˆì¿ ", icon: "fa-fire-burner", color: "amber", img: "https://images.unsplash.com/photo-1529692236671-f1f6cf9683ba?auto=format&fit=crop&w=600&q=80", subtitle: "NIGHT VIEW", fullDesc: "ìŠ¤ì¹´ì´íŠ¸ë¦¬ íƒ€ì›Œ 30ì¸µì—ì„œ ë„ì¿„ ì „ì²´ ì•¼ê²½ì„ ê°ìƒí•˜ë©° ì¦ê¸°ëŠ” ê³ ê¸‰ ì™€ê·œ êµ¬ì´ì…ë‹ˆë‹¤. ì°½ê°€ ìë¦¬ë¥¼ ë¯¸ë¦¬ í™•ë³´í–ˆìŠµë‹ˆë‹¤.", extra: "ì˜ˆì•½ ì‹œê°„: 19:00 / ì†Œë¼ë§ˆì¹˜ 30ì¸µ ìœ„ì¹˜", map: "https://www.google.com/maps/place/Jojoen+Tokyo+Skytree+Town+Solamachi" }
            ],
            3: [
                { id: "fuji_start", time: "08:30", title: "í›„ì§€ì‚° íˆ¬ì–´ ì¶œë°œ", desc: "ë„ì¿„ì—­ ë§ˆë£¨ë…¸ìš°ì¹˜ ë¶êµ¬ ì§‘ê²°", icon: "fa-bus", color: "blue", img: "https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?auto=format&fit=crop&w=600&q=80", subtitle: "KLOOK TOUR", fullDesc: "í´ë£© í›„ì§€ì‚° ë‹¹ì¼ íˆ¬ì–´ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤. ì „ìš© ë²„ìŠ¤ë¥¼ íƒ€ê³  í•œêµ­ì–´ ê°€ì´ë“œì™€ í•¨ê»˜ í›„ì§€ì‚°ì˜ ëª…ì†Œ 4ê³³ì„ ë°©ë¬¸í•©ë‹ˆë‹¤.", extra: "ë¯¸íŒ… ì‹œê°„ ì—„ìˆ˜ (8:20ë¶„ê¹Œì§€ ë„ì°© ê¶Œì¥)", map: "https://www.google.com/maps/place/Tokyo+Station+Marunouchi+North+Exit" },
                { id: "arakurayama", time: "10:30", title: "ì•„ë¼ì¿ ë¼ì•¼ë§ˆ ì„¼ê²ê³µì›", desc: "5ì¸µíƒ‘ê³¼ í›„ì§€ì‚°ì˜ ì¡°í™”", icon: "fa-mountain", color: "red", img: "https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?auto=format&fit=crop&w=600&q=80", subtitle: "SCENIC SPOT", fullDesc: "ì¼ë³¸ ì—½ì„œì— ê°€ì¥ ë§ì´ ë‚˜ì˜¤ëŠ” ì¥ì†Œì…ë‹ˆë‹¤. 398ê°œì˜ ê³„ë‹¨ì„ ì˜¤ë¥´ê±°ë‚˜ ìŠ¬ë¡œí”„ë¡œ ì´ë™í•´ í›„ì§€ì‚°ê³¼ ì˜¤ì¸µíƒ‘ì˜ ì ˆê²½ì„ ê°ìƒí•©ë‹ˆë‹¤.", extra: "íˆ¬ì–´ì˜ í•˜ì´ë¼ì´íŠ¸ì…ë‹ˆë‹¤. ì‚¬ì§„ ì´¬ì˜ í•„ìˆ˜!", map: "https://www.google.com/maps/place/Arakurayama+Sengen+Park" },
                { id: "oishi", time: "12:30", title: "ê°€ì™€êµ¬ì¹˜ì½” ì˜¤ì´ì‹œ ê³µì›", desc: "í˜¸ìˆ«ê°€ ì‚°ì±… & í˜¸í†  ì¤‘ì‹", icon: "fa-water", color: "blue", img: "https://images.unsplash.com/photo-1578271147515-0589468cd27d?auto=format&fit=crop&w=600&q=80", subtitle: "LAKESIDE", fullDesc: "ê°€ì™€êµ¬ì¹˜ì½” í˜¸ìˆ˜ê°€ ë°”ë¡œ ë³´ì´ëŠ” ê³µì›ì…ë‹ˆë‹¤. ì ì‹¬ì€ ì´ ì§€ì—­ ëª…ë¬¼ì¸ ëœì¥ ì¹¼êµ­ìˆ˜ 'í˜¸í† 'ë¥¼ ì •ê°ˆí•˜ê²Œ ë¨¹ìŠµë‹ˆë‹¤.", extra: "íŒ: ë³´ë¼ìƒ‰ ë¼ë²¤ë”ë‚˜ ê³„ì ˆ ê½ƒë“¤ì´ ì•„ë¦„ë‹¤ìš´ ê³³ì…ë‹ˆë‹¤.", map: "https://www.google.com/maps/place/Oishi+Park" },
                { id: "oshino", time: "14:30", title: "ì˜¤ì‹œë…¸í•«ì¹´ì´ ë§ˆì„", desc: "ì‹ ë¹„ë¡œìš´ íˆ¬ëª… ì—°ëª» 8ê°œ", icon: "fa-leaf", color: "green", img: "https://images.unsplash.com/photo-1524413840807-0c3cb6fa808d?auto=format&fit=crop&w=600&q=80", subtitle: "MYSTICAL VILLAGE", fullDesc: "í›„ì§€ì‚°ì˜ ëˆˆì´ ë…¹ì•„ ë§Œë“  ì‹ ë¹„ë¡­ê³  íˆ¬ëª…í•œ ì—°ëª»ë“¤ì´ ìˆëŠ” ë§ˆì„ì…ë‹ˆë‹¤. ë°”ë‹¥ê¹Œì§€ í›¤íˆ ë³´ì´ëŠ” ë§‘ì€ ë¬¼ì´ ì¥ê´€ì…ë‹ˆë‹¤.", extra: "íŠ¹ì‚°ë¬¼ì¸ ì¿ ì‚¬ëª¨ì°Œ(ì‘¥ë–¡) ì‹œì‹ì„ ì¶”ì²œí•©ë‹ˆë‹¤.", map: "https://www.google.com/maps/place/Oshino+Hakkai" },
                { id: "lawson", time: "16:10", title: "ë¡œì† í›„ì§€ì‚° í¬í† ì¡´", desc: "SNS í™”ì œì˜ ì¸ì¦ìƒ· ì½”ìŠ¤", icon: "fa-camera", color: "pink", img: "https://images.unsplash.com/photo-1549692520-acc6669e2f0c?auto=format&fit=crop&w=600&q=80", subtitle: "PHOTO SPOT", fullDesc: "í¸ì˜ì  ì§€ë¶• ìœ„ë¡œ í›„ì§€ì‚°ì´ ì†Ÿì•„ìˆëŠ” ê²ƒì²˜ëŸ¼ ë³´ì´ëŠ” í™”ì œì˜ ì¥ì†Œì…ë‹ˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ ì˜ˆìœ ê¸°ë… ì‚¬ì§„ì„ ë‚¨ê¸°ê³  ë„ì¿„ë¡œ ë³µê·€í•©ë‹ˆë‹¤.", extra: "ë„ë¡œê°€ ìœ„í—˜í•˜ë‹ˆ ê°€ì´ë“œì˜ ì•ˆë‚´ì— ë”°ë¼ ì´¬ì˜í•˜ì„¸ìš”.", map: "https://www.google.com/maps/place/Lawson+Kawaguchiko+Station+Front" },
                { id: "shabuki", time: "19:30", title: "ì„ì‹: ê¸´ì ìƒ¤ë¶€í‚¤", desc: "í”„ë¼ì´ë¹— ë£¸ ìƒ¤ë¸Œìƒ¤ë¸Œ", icon: "fa-utensils", color: "amber", img: "https://images.unsplash.com/photo-1534422298391-e4f8c170db06?auto=format&fit=crop&w=600&q=80", subtitle: "FINAL DINNER", fullDesc: "ì—¬í–‰ì˜ ë§ˆì§€ë§‰ ë°¤ì„ ê¸°ë…í•˜ëŠ” ìµœê³ ê¸‰ í‘ìš° ìƒ¤ë¸Œìƒ¤ë¸Œì…ë‹ˆë‹¤. ëª¨ë“  ìë¦¬ê°€ ë°©ìœ¼ë¡œ ë˜ì–´ ìˆì–´ ì˜¤ë¶“í•˜ê²Œ ëŒ€í™”í•˜ê¸° ì¢‹ìŠµë‹ˆë‹¤.", extra: "ë„ì¿„ì—­ ê·€í™˜ í›„ íƒì‹œë¡œ 5ë¶„ ê±°ë¦¬", map: "https://www.google.com/maps/place/Ginza+Shabuki" }
            ],
            4: [
                { id: "ueno", time: "07:30", title: "ìš°ì—ë…¸ì—­ ì´ë™", desc: "ìŠ¤ì¹´ì´ë¼ì´ë„ˆ ì—´ì°¨ íƒ‘ìŠ¹", icon: "fa-train", color: "gray", img: "https://images.unsplash.com/photo-1528150177508-7cc0c36cda5c?auto=format&fit=crop&w=600&q=80", subtitle: "DEPARTURE", fullDesc: "ìˆ™ì†Œ í‡´ì‹¤ í›„ íƒì‹œë¥¼ íƒ€ê³  ê²Œì´ì„¸ì´ ìš°ì—ë…¸ì—­ìœ¼ë¡œ í–¥í•©ë‹ˆë‹¤. ì •í•´ì§„ ì‹œê°„ì— ì¶œë°œí•˜ëŠ” ìŠ¤ì¹´ì´ë¼ì´ë„ˆ ì§€ì •ì„ì— ì•‰ì•„ ê³µí•­ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.", extra: "í‹°ì¼“ ë¯¸ë¦¬ ë°œê¶Œ í™•ì¸ í•„ìˆ˜", map: "https://www.google.com/maps/place/Keisei+Ueno+Station" },
                { id: "nrt_off", time: "10:35", title: "ë‚˜ë¦¬íƒ€ ì´ë¥™", desc: "ì•ˆì „í•˜ê²Œ í•œêµ­ìœ¼ë¡œ ê·€êµ­", icon: "fa-plane-departure", color: "blue", img: "https://images.unsplash.com/photo-1436491865332-7a61a109c0f3?auto=format&fit=crop&w=600&q=80", subtitle: "ARRIVING HOME", fullDesc: "ì¦ê±°ì› ë˜ 3ë°• 4ì¼ ì¼ì •ì„ ë§ˆë¬´ë¦¬í•˜ê³  ì²­ì£¼ ê³µí•­ìœ¼ë¡œ í–¥í•©ë‹ˆë‹¤. ê³ ìƒ ë§ìœ¼ì…¨ìŠµë‹ˆë‹¤!", extra: "ì˜¤í›„ 1:05 ì²­ì£¼ ë„ì°© ì˜ˆì •", map: "https://www.google.com/maps/search/Narita+Airport+Terminal+2" }
            ]
        };

        function switchTab(day) {
            for(let i=1; i<=4; i++) {
                const tab = document.getElementById(`tab-${i}`);
                if (i === day) {
                    tab.classList.remove('tab-inactive');
                    tab.classList.add('tab-active');
                } else {
                    tab.classList.add('tab-inactive');
                    tab.classList.remove('tab-active');
                }
            }
            renderTimeline(day);
        }

        function renderTimeline(day) {
            const container = document.getElementById('day-content');
            const events = itineraryData[day];
            let html = '<div class="timeline-line"></div>';

            events.forEach((event) => {
                const colorClasses = {
                    blue: 'bg-blue-100 text-blue-600', amber: 'bg-amber-100 text-amber-600',
                    green: 'bg-green-100 text-green-600', red: 'bg-red-100 text-red-600',
                    purple: 'bg-purple-100 text-purple-600', gray: 'bg-gray-100 text-gray-600',
                    yellow: 'bg-yellow-100 text-yellow-600', pink: 'bg-pink-100 text-pink-600'
                };

                html += `
                    <div class="relative pl-12 interactive-btn" onclick="openModal('${day}', '${event.id}')">
                        <div class="absolute left-0 top-1 w-10 h-10 rounded-full ${colorClasses[event.color]} flex items-center justify-center border-4 border-white shadow-md z-10 text-xs">
                            <i class="fa-solid ${event.icon}"></i>
                        </div>
                        <div class="bg-gray-50 rounded-2xl p-4 border border-gray-100 shadow-sm active:bg-gray-100 active:scale-98 transition-all">
                            <div class="flex justify-between items-center mb-1">
                                <span class="font-bold text-gray-800 text-sm">${event.title}</span>
                                <span class="text-[10px] font-bold text-gray-400 bg-white px-2 py-0.5 rounded-full border border-gray-100">${event.time}</span>
                            </div>
                            <p class="text-gray-500 text-[11px] leading-tight">${event.desc}</p>
                        </div>
                    </div>
                `;
            });
            container.innerHTML = html;
        }

        function openModal(day, eventId) {
            const event = itineraryData[day].find(e => e.id === eventId);
            if (!event) return;

            document.getElementById('modal-image').style.backgroundImage = `url('${event.img}')`;
            document.getElementById('modal-title').innerText = event.title;
            document.getElementById('modal-subtitle').innerText = event.subtitle;
            document.getElementById('modal-desc').innerText = event.fullDesc;
            document.getElementById('modal-extra').innerText = event.extra;
            document.getElementById('modal-map-link').href = event.map;
            
            const modal = document.getElementById('details-modal');
            modal.classList.remove('modal-hidden');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            const modal = document.getElementById('details-modal');
            modal.classList.add('modal-hidden');
            document.body.style.overflow = 'auto';
        }

        document.addEventListener('DOMContentLoaded', function() {
            switchTab(1);

            const ctx = document.getElementById('budgetChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['ì‹ë¹„', 'íˆ¬ì–´', 'êµí†µ', 'ê¸°íƒ€'],
                    datasets: [{
                        data: [160000, 50000, 45000, 30000],
                        backgroundColor: ['#f87171', '#60a5fa', '#facc15', '#9ca3af'],
                        borderWidth: 0,
                        hoverOffset: 15
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '65%',
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            bodyFont: { size: 14, family: "'Noto Sans KR', sans-serif" },
                            callbacks: {
                                label: function(context) { return ' ' + context.label + ': ' + context.raw.toLocaleString() + 'ì—”'; }
                            }
                        }
                    }
                }
            });

            document.getElementById('details-modal').addEventListener('click', function(e) {
                if(e.target === this) closeModal();
            });
        });
    </script>
</body>
</html>